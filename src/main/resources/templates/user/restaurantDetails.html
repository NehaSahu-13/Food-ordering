<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="user/user-base::layout(~{::section})">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<section>
 
  
  
  <div class="food-container">
      
      <div class="text-center">
      <h1 th:text=${Restaurant.name}></h1>
       <img th:src="'/img/'+${Restaurant.image}" class="mt-3 rest-det-img" />
       <div th:text="${Restaurant.description}" class="mt-2 fs-5"></div>
       <div th:text="${Restaurant.address.streetAddress}+' ,'+${Restaurant.Address.city}" class="mt-2 fs-5"></div>
       <div th:text="'Opening Hours : '+${Restaurant.openingHours}" class="mt-2 fs-5"></div>
      </div>
      
      <hr class="divider"></hr>
      
       <div th:if="${foods}">
    
           <h2 class="my-5 fw-bold" th:text="${foodname}"></h2>
           
           <div class="d-flex flex-row rest-container flex-wrap">
           
           <div th:each="r:${foods}" class="card rest-card cardborder">
           
               <div class='card-body'>
               
                   <img src="" th:src="'/img/'+${r.images}" class="rest-img"/>
                   <h5 class="mt-2" th:text="${r.name}"></h5>
                   <h5 th:text="'Rs.'+${r.price}"></h5>
                   <h6 th:text="'By '+${r.restaurant.name}"></h6>
                    <div th:text="${r.restaurant.address.StreetAddress}"></div>
                    <div class="text-center my-3">
                    <button type="button" class="btn add-btn text-success" onclick="hideadd(this)"><span class="fw-bold">ADD</span></button>
                    
	                    <div class="justify-content-between align-items-baseline qtnctn">
                        <div>
                        <form method="post" th:action="@{'/customer/add-to-cart/'+${r.id}}">
                    	<span onclick="subtract(this)" class=" fw-bold fs-3 text-success outline-none">-</span>
                    	<input type="text" th:value="1" name="quantity" class="quantity-ele text-center" />
                    	<span onclick="add(this)" class=" fw-bold fs-4 text-success">+</span>
                        </div>
	                    <button onclick="hidedone(this)" class="btn done-btn text-success text-decoration-none fw-bold" type="submit">Done</button>
	                    </form>
	                    </div>
                    </div>
               </div>
            
           </div>
           
           </div>
           
           
           
    
       </div>
    

       <h3 class="p-5 mx-5 fw-light" style="height:200px" th:if="${#lists.isEmpty(foods)}">No foodItem found...</h3> 
    
     </div>
     
     
      <script>
     	
     	 function subtract(button){
     		let parent = button.parentElement;
     		quantity = parent.querySelector("input");
     		 quant = parseInt(quantity.value);
     		 if(quant == 1){
     			 
     		 }
     		 else{
     			quant = quant - 1;
     			 quantity.value = quant;
     		 }
     	 }
     	 
     	function add(button){
     		let parent = button.parentElement;
     		quantity = parent.querySelector("input");
     		 quant = parseInt(quantity.value);
     		 if(quant == 20){
     			 
     		 }
     		 else{
     			quant = quant + 1;
     			 quantity.value = quant;
     		 }
     	 }
     	
     	function hideadd(hidethis){
     		hidethis.style.display = "none";
     		//let parent = hidethis.parentElement;
     		//var targetElement = document.querySelector(hidethis);
     		var afterSibling = hidethis.nextElementSibling;
     		afterSibling.style.display = "flex"
     	}
     	function hidedone(hidethis){
     		console.log("working")
     		let parent = hidethis.parentElement;
     		parent.style.display = "none";
     		var beforeSibling = parent.previousElementSibling;
     		beforeSibling.style.display = "inline";
     	}
     </script>
  
</section>
</body>
</html>